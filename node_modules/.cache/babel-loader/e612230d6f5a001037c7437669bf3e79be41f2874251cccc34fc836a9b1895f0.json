{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\conor\\\\OneDrive\\\\Desktop\\\\ca2-scaffold\\\\src\\\\components\\\\LoginForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginForm = props => {\n  _s();\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [authenticated, setAuthenticated] = useState(false);\n  const handleForm = e => {\n    //Value of the input field / Name is the input field name thats being changed\n    //Storing in variables to simplify the process of calling them later\n    let name = e.target.name;\n    let value = e.target.value;\n\n    //Used to test, shows it being updated live\n    //console.log(`${name}: ${value}`);\n\n    //This overides and changes the previous version of setForm\n    // setForm({\n    //     [name]: value\n    // });\n\n    // setForm((prevState) => {\n    //     return {\n    //         // ... does --- / prevState gets the content of previous state and puts it in here\n    //         ...prevState,\n    //         [name]: value\n    //     }\n    // });\n\n    setForm(prevState => ({\n      // ... does --- / prevState gets the content of previous state and puts it in here\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const submitForm = () => {\n    axios.post('https://festivals-api.vercel.app/api/users/login', {\n      email: form.email,\n      password: form.password\n    }).then(response => {\n      console.log(response.data);\n      setErrorMessage(\"\");\n      //THIS IS WHERE ON AUTENTICATED IS USED. THE SOFT BRACKETS ALLOWS THE FUNCTION TO RUN\n      props.onAuthenticated(true, response.data.token);\n\n      // setAuthenticated(true);\n    }).catch(err => {\n      console.log(err);\n      console.log(err.response.data);\n      setErrorMessage(err.response.data.message);\n    });\n\n    //Testing\n    console.log(\"Clicked\");\n  };\n\n  //Make  it smarter for example \"you are logged in (As someone)\"\n  if (authenticated) return \"You are logged in\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      value: form.email,\n      onChange: handleForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), \"Password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: form.password,\n      onChange: handleForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submitForm,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\",\n        backgroundColor: \"black\",\n        width: \"310px\"\n      },\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(LoginForm, \"x2ELXpxH9dM+gGfnddzRz0dbq0U=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","axios","LoginForm","props","form","setForm","email","password","errorMessage","setErrorMessage","authenticated","setAuthenticated","handleForm","e","name","target","value","prevState","submitForm","post","then","response","console","log","data","onAuthenticated","token","catch","err","message","color","backgroundColor","width"],"sources":["C:/Users/conor/OneDrive/Desktop/ca2-scaffold/src/components/LoginForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const [form, setForm] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const [authenticated, setAuthenticated] = useState(false);\r\n\r\n    const handleForm = (e) => {\r\n        //Value of the input field / Name is the input field name thats being changed\r\n        //Storing in variables to simplify the process of calling them later\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n\r\n        //Used to test, shows it being updated live\r\n        //console.log(`${name}: ${value}`);\r\n\r\n        //This overides and changes the previous version of setForm\r\n        // setForm({\r\n        //     [name]: value\r\n        // });\r\n\r\n        // setForm((prevState) => {\r\n        //     return {\r\n        //         // ... does --- / prevState gets the content of previous state and puts it in here\r\n        //         ...prevState,\r\n        //         [name]: value\r\n        //     }\r\n        // });\r\n\r\n        setForm(prevState => ({\r\n            // ... does --- / prevState gets the content of previous state and puts it in here\r\n            ...prevState,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const submitForm = () => {\r\n        axios.post('https://festivals-api.vercel.app/api/users/login', {\r\n            email: form.email,\r\n            password: form.password\r\n        })\r\n        .then((response) => {\r\n            console.log(response.data);\r\n\r\n            setErrorMessage(\"\");\r\n            //THIS IS WHERE ON AUTENTICATED IS USED. THE SOFT BRACKETS ALLOWS THE FUNCTION TO RUN\r\n            props.onAuthenticated(true, response.data.token);\r\n\r\n            // setAuthenticated(true);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            console.log(err.response.data);\r\n            setErrorMessage(err.response.data.message);\r\n        })\r\n\r\n        //Testing\r\n        console.log(\"Clicked\")\r\n    };\r\n\r\n\r\n    //Make  it smarter for example \"you are logged in (As someone)\"\r\n    if(authenticated) return \"You are logged in\";\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n        {/* Value displays 2 way binding */}\r\n        Email: <input type=\"text\" name=\"email\" value={form.email} onChange={handleForm} />\r\n        <br></br>\r\n        Password: <input type=\"password\" name=\"password\" value={form.password} onChange={handleForm} />\r\n        <button onClick={submitForm}>Submit</button>\r\n        {/* Returns my error message as well as styles it */}\r\n        <p style={{ color: \"red\", backgroundColor: \"black\", width: \"310px\" }}>{errorMessage}</p>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default LoginForm;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAAA;AAE1B,MAAMC,SAAS,GAAIC,KAAK,IAAK;EAAA;EAEzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC;IAC7BM,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMY,UAAU,GAAIC,CAAC,IAAK;IACtB;IACA;IACA,IAAIC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACD,IAAI;IACxB,IAAIE,KAAK,GAAGH,CAAC,CAACE,MAAM,CAACC,KAAK;;IAE1B;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAX,OAAO,CAACY,SAAS,KAAK;MAClB;MACA,GAAGA,SAAS;MACZ,CAACH,IAAI,GAAGE;IACZ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAME,UAAU,GAAG,MAAM;IACrBjB,KAAK,CAACkB,IAAI,CAAC,kDAAkD,EAAE;MAC3Db,KAAK,EAAEF,IAAI,CAACE,KAAK;MACjBC,QAAQ,EAAEH,IAAI,CAACG;IACnB,CAAC,CAAC,CACDa,IAAI,CAAEC,QAAQ,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAE1Bf,eAAe,CAAC,EAAE,CAAC;MACnB;MACAN,KAAK,CAACsB,eAAe,CAAC,IAAI,EAAEJ,QAAQ,CAACG,IAAI,CAACE,KAAK,CAAC;;MAEhD;IACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACZN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChBN,OAAO,CAACC,GAAG,CAACK,GAAG,CAACP,QAAQ,CAACG,IAAI,CAAC;MAC9Bf,eAAe,CAACmB,GAAG,CAACP,QAAQ,CAACG,IAAI,CAACK,OAAO,CAAC;IAC9C,CAAC,CAAC;;IAEF;IACAP,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;EAC1B,CAAC;;EAGD;EACA,IAAGb,aAAa,EAAE,OAAO,mBAAmB;EAE5C,oBAEI;IAAA,mCAGO;MAAO,IAAI,EAAC,MAAM;MAAC,IAAI,EAAC,OAAO;MAAC,KAAK,EAAEN,IAAI,CAACE,KAAM;MAAC,QAAQ,EAAEM;IAAW;MAAA;MAAA;MAAA;IAAA,QAAG,eAClF;MAAA;MAAA;MAAA;IAAA,QAAS,6BACC;MAAO,IAAI,EAAC,UAAU;MAAC,IAAI,EAAC,UAAU;MAAC,KAAK,EAAER,IAAI,CAACG,QAAS;MAAC,QAAQ,EAAEK;IAAW;MAAA;MAAA;MAAA;IAAA,QAAG,eAC/F;MAAQ,OAAO,EAAEM,UAAW;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAgB,eAE5C;MAAG,KAAK,EAAE;QAAEY,KAAK,EAAE,KAAK;QAAEC,eAAe,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAE;MAAA,UAAExB;IAAY;MAAA;MAAA;MAAA;IAAA,QAAK;EAAA,gBAErF;AAEX,CAAC;AAAC,GAjFIN,SAAS;AAAA,KAATA,SAAS;AAmFf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}